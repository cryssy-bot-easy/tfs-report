<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Retention_5" language="groovy" pageWidth="612" pageHeight="792" whenNoDataType="AllSectionsNoDetail" columnWidth="504" leftMargin="54" rightMargin="54" topMargin="54" bottomMargin="54">
	<property name="ireport.zoom" value="1.210000000000003"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="336"/>
	<import value="com.ibm.icu.*"/>
	<import value="report.utils.ReportUtility"/>
	<import value="apache.commons.lang.*"/>
	<parameter name="documentNumber" class="java.lang.String"/>
	<parameter name="tradeServiceId" class="java.lang.String"/>
	<parameter name="processDate" class="java.lang.String"/>
	<parameter name="beneficiaryName" class="java.lang.String"/>
	<parameter name="beneficiaryAddress" class="java.lang.String"/>
	<parameter name="biddingDate" class="java.lang.String">
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="attentionName" class="java.lang.String"/>
	<parameter name="attentionNamePosition" class="java.lang.String"/>
	<parameter name="applicantName" class="java.lang.String"/>
	<parameter name="applicantAddress" class="java.lang.String"/>
	<parameter name="purposeOfStandby" class="java.lang.String"/>
	<parameter name="bank" class="java.lang.String"/>
	<parameter name="bankBranch" class="java.lang.String"/>
	<parameter name="bankAddress" class="java.lang.String"/>
	<parameter name="currency" class="java.lang.String"/>
	<parameter name="amount" class="java.lang.String"/>
	<parameter name="city" class="java.lang.String"/>
	<parameter name="expiryPeriod" class="java.lang.String"/>
	<parameter name="expiryDate" class="java.lang.String"/>
	<parameter name="proprietor" class="java.lang.String"/>
	<parameter name="authorizedSignatory1" class="java.lang.String"/>
	<parameter name="authorizedSignatoryPosition1" class="java.lang.String"/>
	<parameter name="authorizedSignatory2" class="java.lang.String"/>
	<parameter name="authorizedSignatoryPosition2" class="java.lang.String"/>
	<queryString>
		<![CDATA[select currency, amount from tradeservice where tradeserviceid=$P{tradeServiceId}]]>
	</queryString>
	<field name="CURRENCY" class="java.lang.String"/>
	<field name="AMOUNT" class="java.math.BigDecimal"/>
	<variable name="AMOUNT_IN_WORDS" class="java.lang.String">
		<variableExpression><![CDATA[ReportUtility.convert($F{AMOUNT}, $F{CURRENCY}).toUpperCase() + " ONLY "]]></variableExpression>
		<initialValueExpression><![CDATA[ReportUtility.convert($F{AMOUNT}, $F{CURRENCY}).toUpperCase() + " ONLY "]]></initialValueExpression>
	</variable>
	<variable name="BIDDING_DATE" class="java.lang.String">
		<variableExpression><![CDATA[($P{biddingDate}=="" || $P{biddingDate}=="undefined" || $P{biddingDate}==null) ? "" : new SimpleDateFormat("MMMMM dd, yyyy").format(new Date($P{biddingDate}))]]></variableExpression>
		<initialValueExpression><![CDATA[($P{biddingDate}=="" || $P{biddingDate}=="undefined" || $P{biddingDate}==null) ? "" : new SimpleDateFormat("MMMMM dd, yyyy").format(new Date($P{biddingDate}))]]></initialValueExpression>
	</variable>
	<variable name="PROCESS_DATE" class="java.lang.String">
		<variableExpression><![CDATA[new SimpleDateFormat("MMMMM dd, yyyy").format(new Date($P{processDate}))]]></variableExpression>
		<initialValueExpression><![CDATA[new SimpleDateFormat("MMMMM dd, yyyy").format(new Date($P{processDate}))]]></initialValueExpression>
	</variable>
	<variable name="PROCESS_DATE2" class="java.lang.String">
		<variableExpression><![CDATA[new SimpleDateFormat("dd'th Day Of' MMMMM, yyyy").format(new Date($P{processDate}))]]></variableExpression>
		<initialValueExpression><![CDATA[new SimpleDateFormat("dd'th Day Of' MMMMM, yyyy").format(new Date($P{processDate}))]]></initialValueExpression>
	</variable>
	<variable name="EXPIRY_DATE" class="java.lang.String">
		<variableExpression><![CDATA[new SimpleDateFormat("MMMMM dd, yyyy").format(new Date($P{expiryDate}))]]></variableExpression>
		<initialValueExpression><![CDATA[new SimpleDateFormat("MMMMM dd, yyyy").format(new Date($P{expiryDate}))]]></initialValueExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<summary>
		<band height="684">
			<textField isBlankWhenNull="true">
				<reportElement x="0" y="130" width="504" height="110"/>
				<box topPadding="10"/>
				<textElement textAlignment="Justified" verticalAlignment="Top" markup="html">
					<font fontName="SansSerif" size="9" isUnderline="false" isStrikeThrough="false" pdfFontName="Times-Roman"/>
					<paragraph lineSpacing="Single" firstLineIndent="20"/>
				</textElement>
				<textFieldExpression><![CDATA["In accordance with the instructions received by order and for the account of " + $P{applicantName} + ", the Accountee, with office address at " + $P{applicantAddress} + ", we hereby establish in your favor our Irrevocable Domestic Standby Letter of Credit No. " + $P{documentNumber} + "."+
"<br/><br/>"+
"This Letter of Credit guarantees the Retention Warranty  made on credit by the Accountee  from yourselves wherein our maximum liability under this Letter of Credit is " + $V{AMOUNT_IN_WORDS} + " (" + $P{currency} + $P{amount} + ")."]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="0" y="50" width="504" height="15"/>
				<textElement textAlignment="Justified" markup="html">
					<font size="9" isStrikeThrough="false" pdfFontName="Times-Roman"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{beneficiaryName}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="0" y="65" width="175" height="50"/>
				<textElement markup="html">
					<font size="9" isStrikeThrough="false" pdfFontName="Times-Roman"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{beneficiaryAddress}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="177" y="460" width="150" height="35"/>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="9" isUnderline="false" pdfFontName="Times-Roman"/>
				</textElement>
				<textFieldExpression><![CDATA["Very Yours Truly,"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="510" width="177" height="50"/>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="9" isUnderline="false" pdfFontName="Times-Roman"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{authorizedSignatoryPosition1}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="495" width="177" height="15"/>
				<box>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Bottom">
					<font size="9" isUnderline="false" pdfFontName="Times-Roman"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{authorizedSignatory1}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="0" y="0" width="504" height="50"/>
				<textElement textAlignment="Right" markup="html">
					<font size="9" isStrikeThrough="false" pdfFontName="Times-Roman"/>
					<paragraph rightIndent="100"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{PROCESS_DATE}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="0" y="115" width="504" height="15"/>
				<textElement textAlignment="Justified" markup="html">
					<font size="9" isStrikeThrough="false" pdfFontName="Times-Roman"/>
				</textElement>
				<textFieldExpression><![CDATA["Gentlemen:"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="260" width="33" height="75"/>
				<textElement markup="html">
					<font size="9" pdfFontName="Times-Roman"/>
					<paragraph leftIndent="20"/>
				</textElement>
				<textFieldExpression><![CDATA["1.<br/>"+
"2.<br/>"+
"3.<br/><br/>"+
"4."]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="33" y="260" width="471" height="75"/>
				<textElement markup="html">
					<font size="9" pdfFontName="Times-Roman"/>
					<paragraph leftIndent="1" rightIndent="1"/>
				</textElement>
				<textFieldExpression><![CDATA["Original of this Letter of Credit<br/>"+
"Draft at sight drawn on ourselves, and<br/>"+
"Your notarized certification that the Accountee has failed to comply with their obligation(s) under the terms and conditions of the contract.<br/>"+
"Secretary's Certificate providing for your authorized signatory(ies) to claim on this Letter of Credit."]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="240" width="504" height="20"/>
				<textElement markup="html">
					<font size="9" pdfFontName="Times-Roman"/>
					<paragraph leftIndent="20"/>
				</textElement>
				<textFieldExpression><![CDATA["This Letter of Credit is available for payment against presentation of the following:"]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="0" y="335" width="504" height="125"/>
				<box topPadding="10"/>
				<textElement textAlignment="Justified" verticalAlignment="Top" markup="html">
					<font fontName="SansSerif" size="9" isUnderline="false" isStrikeThrough="false" pdfFontName="Times-Roman"/>
					<paragraph lineSpacing="Single" firstLineIndent="20"/>
				</textElement>
				<textFieldExpression><![CDATA["This Letter of Credit shall be governed by and construed in accordance with the laws of the Republic of the Philippines. Further, except so far as otherwise expressly stated, this Letter of Credit is subject to the International Standby Practices ISP98, and any subsequent revisions thereof."+
"<br/><br/>"+
"This credit shall expire at our counters on " + $V{EXPIRY_DATE} + "."]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="327" y="510" width="177" height="50"/>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="9" isUnderline="false" pdfFontName="Times-Roman"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{authorizedSignatoryPosition2}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="327" y="495" width="177" height="15"/>
				<box>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Bottom">
					<font size="9" isUnderline="false" pdfFontName="Times-Roman"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{authorizedSignatory2}]]></textFieldExpression>
			</textField>
		</band>
	</summary>
</jasperReport>
