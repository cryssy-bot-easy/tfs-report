<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Retention_Money_3" language="groovy" pageWidth="612" pageHeight="792" whenNoDataType="AllSectionsNoDetail" columnWidth="504" leftMargin="54" rightMargin="54" topMargin="54" bottomMargin="54">
	<property name="ireport.zoom" value="0.9090909090909113"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="132"/>
	<import value="com.ibm.icu.*"/>
	<import value="report.utils.ReportUtility"/>
	<import value="apache.commons.lang.*"/>
	<parameter name="documentNumber" class="java.lang.String"/>
	<parameter name="tradeServiceId" class="java.lang.String"/>
	<parameter name="processDate" class="java.lang.String"/>
	<parameter name="beneficiaryName" class="java.lang.String"/>
	<parameter name="beneficiaryAddress" class="java.lang.String"/>
	<parameter name="biddingDate" class="java.lang.String">
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="attentionName" class="java.lang.String"/>
	<parameter name="attentionNamePosition" class="java.lang.String"/>
	<parameter name="applicantName" class="java.lang.String"/>
	<parameter name="applicantAddress" class="java.lang.String"/>
	<parameter name="purposeOfStandby" class="java.lang.String"/>
	<parameter name="bank" class="java.lang.String"/>
	<parameter name="bankBranch" class="java.lang.String"/>
	<parameter name="bankAddress" class="java.lang.String"/>
	<parameter name="currency" class="java.lang.String"/>
	<parameter name="amount" class="java.lang.String"/>
	<parameter name="city" class="java.lang.String"/>
	<parameter name="expiryPeriod" class="java.lang.String"/>
	<parameter name="expiryDate" class="java.lang.String"/>
	<parameter name="proprietor" class="java.lang.String"/>
	<parameter name="authorizedSignatory1" class="java.lang.String"/>
	<parameter name="authorizedSignatoryPosition1" class="java.lang.String"/>
	<parameter name="authorizedSignatory2" class="java.lang.String"/>
	<parameter name="authorizedSignatoryPosition2" class="java.lang.String"/>
	<queryString>
		<![CDATA[select currency, amount from tradeservice where tradeserviceid=$P{tradeServiceId}]]>
	</queryString>
	<field name="CURRENCY" class="java.lang.String"/>
	<field name="AMOUNT" class="java.math.BigDecimal"/>
	<variable name="AMOUNT_IN_WORDS" class="java.lang.String">
		<variableExpression><![CDATA[ReportUtility.convert($F{AMOUNT}, $F{CURRENCY}).toUpperCase() + " ONLY "]]></variableExpression>
		<initialValueExpression><![CDATA[ReportUtility.convert($F{AMOUNT}, $F{CURRENCY}).toUpperCase() + " ONLY "]]></initialValueExpression>
	</variable>
	<variable name="BIDDING_DATE" class="java.lang.String">
		<variableExpression><![CDATA[($P{biddingDate}=="" || $P{biddingDate}=="undefined" || $P{biddingDate}==null) ? "" : new SimpleDateFormat("MMMMM dd, yyyy").format(new Date($P{biddingDate}))]]></variableExpression>
		<initialValueExpression><![CDATA[($P{biddingDate}=="" || $P{biddingDate}=="undefined" || $P{biddingDate}==null) ? "" : new SimpleDateFormat("MMMMM dd, yyyy").format(new Date($P{biddingDate}))]]></initialValueExpression>
	</variable>
	<variable name="PROCESS_DATE" class="java.lang.String">
		<variableExpression><![CDATA[new SimpleDateFormat("MMMMM dd, yyyy").format(new Date($P{processDate}))]]></variableExpression>
		<initialValueExpression><![CDATA[new SimpleDateFormat("MMMMM dd, yyyy").format(new Date($P{processDate}))]]></initialValueExpression>
	</variable>
	<variable name="PROCESS_DATE2" class="java.lang.String">
		<variableExpression><![CDATA[new SimpleDateFormat("dd'th Day Of' MMMMM, yyyy").format(new Date($P{processDate}))]]></variableExpression>
		<initialValueExpression><![CDATA[new SimpleDateFormat("dd'th Day Of' MMMMM, yyyy").format(new Date($P{processDate}))]]></initialValueExpression>
	</variable>
	<variable name="EXPIRY_DATE" class="java.lang.String">
		<variableExpression><![CDATA[new SimpleDateFormat("MMMMM dd, yyyy").format(new Date($P{expiryDate}))]]></variableExpression>
		<initialValueExpression><![CDATA[new SimpleDateFormat("MMMMM dd, yyyy").format(new Date($P{expiryDate}))]]></initialValueExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<summary>
		<band height="684">
			<textField isBlankWhenNull="true">
				<reportElement x="0" y="130" width="504" height="150"/>
				<box topPadding="10"/>
				<textElement textAlignment="Justified" verticalAlignment="Top" markup="html">
					<font fontName="SansSerif" size="9" isUnderline="false" isStrikeThrough="false" pdfFontName="Times-Roman"/>
					<paragraph lineSpacing="Single" firstLineIndent="20"/>
				</textElement>
				<textFieldExpression><![CDATA["We have been informed that " + $P{applicantName} + " with principal office at " + $P{applicantAddress} + " (hereinafter called the \"Supplier\") has undertaken, per Notice of Award dated " + $V{BIDDING_DATE} + " for the " + $P{purposeOfStandby} + " (hereinafter called the \"Contract\")."+
"<br/><br/>"+
"We understand that it has been stipulated in the Contract that the Supplier shall furnish you with a Bank Guaranty by a recognized bank in the aggregate principal amount of " + $V{AMOUNT_IN_WORDS} + " (" + $P{currency} + $P{amount} + ") to guarantee the Supplier's warranty obligations to answer for the possibly manufacturing defects for items delivered under the Contract, in view of the release of ten percent (10%) retention money.  This Bank Guarantee is valid until " + $V{EXPIRY_DATE} + ", but the obligation of the BANK shall pay you within three (3) days upon its receipt of:"]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="0" y="50" width="504" height="15"/>
				<textElement textAlignment="Justified" markup="html">
					<font size="9" isStrikeThrough="false" pdfFontName="Times-Roman"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{beneficiaryName}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="0" y="65" width="175" height="50"/>
				<textElement markup="html">
					<font size="9" isStrikeThrough="false" pdfFontName="Times-Roman"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{beneficiaryAddress}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="505" width="504" height="35"/>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="9" isUnderline="false" pdfFontName="Times-Roman"/>
				</textElement>
				<textFieldExpression><![CDATA["Very Yours Truly,"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="555" width="175" height="50"/>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="9" isUnderline="false" pdfFontName="Times-Roman"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{authorizedSignatoryPosition1}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="540" width="175" height="15"/>
				<box>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Bottom">
					<font size="9" isUnderline="false" pdfFontName="Times-Roman"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{authorizedSignatory1}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="0" y="115" width="504" height="15"/>
				<textElement textAlignment="Justified" markup="html">
					<font size="9" isStrikeThrough="false" pdfFontName="Times-Roman"/>
				</textElement>
				<textFieldExpression><![CDATA["Gentlemen:"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="329" y="555" width="175" height="50"/>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="9" isUnderline="false" pdfFontName="Times-Roman"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{authorizedSignatoryPosition2}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="329" y="540" width="175" height="15"/>
				<box>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Bottom">
					<font size="9" isUnderline="false" pdfFontName="Times-Roman"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{authorizedSignatory2}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="0" y="0" width="504" height="50"/>
				<textElement textAlignment="Center" markup="html">
					<font size="9" isStrikeThrough="false" pdfFontName="Times-Roman"/>
				</textElement>
				<textFieldExpression><![CDATA["BANK GUARANTY IN LIEU RETENTION MONEY<br/>STANDBY LETTER OF CREDIT NO. " + $P{documentNumber}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="0" y="280" width="33" height="50"/>
				<box topPadding="0"/>
				<textElement verticalAlignment="Top" markup="html">
					<font fontName="SansSerif" size="9" isUnderline="false" isStrikeThrough="false" pdfFontName="Times-Roman"/>
					<paragraph lineSpacing="Single" leftIndent="20"/>
				</textElement>
				<textFieldExpression><![CDATA["(i)<br/><br/>"+
"(ii)<br/>"+
"(iii)"]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="33" y="280" width="471" height="50"/>
				<box topPadding="0"/>
				<textElement verticalAlignment="Top" markup="html">
					<font fontName="SansSerif" size="9" isUnderline="false" isStrikeThrough="false" pdfFontName="Times-Roman"/>
					<paragraph lineSpacing="Single" leftIndent="3" rightIndent="3"/>
				</textElement>
				<textFieldExpression><![CDATA["Your sworn statement declaring the Client default of his warranty obligations under the Contract indicating the amount due and demandable;<br/>"+
"This Guaranty (the original),<br/>"+
"A notarized Certificate from Department of Public Works and Highways authorizing its claim from the BANK based on this Guaranty and its authorized signatory."]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="0" y="330" width="504" height="175"/>
				<box topPadding="10"/>
				<textElement textAlignment="Justified" verticalAlignment="Top" markup="html">
					<font fontName="SansSerif" size="9" isUnderline="false" isStrikeThrough="false" pdfFontName="Times-Roman"/>
					<paragraph lineSpacing="Single" firstLineIndent="20"/>
				</textElement>
				<textFieldExpression><![CDATA["You may demand payment from the BANK only within the effectivity period of this Guaranty. Unless earlier  terminated, this Guaranty shall automatically become null and void after the Expiry Date."+
"<br/><br/>"+
"The amount of the Guaranty shall be reduced automatically by any payments made hereunder."+
"<br/><br/>"+
"If for any reason the BANK terminates this Guaranty before the Expiry Date, the BANK shall notify you in writing at least thirty (30) calendar days, if practicable before the termination takes effect."+
"<br/><br/>"+
"This Guaranty is personal to you.  It is not assignable."+
"<br/><br/>"+
"This Guaranty shall be governed by ISP98 and any amendments or revisions thereto, and by Philippine laws and any action hereunder shall be brought in the proper court of Makati City, Philippines only."]]></textFieldExpression>
			</textField>
		</band>
	</summary>
</jasperReport>
