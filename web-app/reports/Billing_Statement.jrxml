<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Billing_Statement" language="groovy" pageWidth="612" pageHeight="792" whenNoDataType="AllSectionsNoDetail" columnWidth="540" leftMargin="36" rightMargin="36" topMargin="36" bottomMargin="36">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="240"/>
	<parameter name="logo" class="java.lang.String"/>
	<parameter name="documentNumber" class="java.lang.String"/>
	<parameter name="tradeServiceId" class="java.lang.String"/>
	<parameter name="longName" class="java.lang.String"/>
	<parameter name="importerName" class="java.lang.String"/>
	<parameter name="expiryDate" class="java.lang.String"/>
	<parameter name="priceTerm" class="java.lang.String"/>
	<parameter name="tenor" class="java.lang.String"/>
	<parameter name="usancePeriod" class="java.lang.String"/>
	<parameter name="outstandingBalance" class="java.lang.String"/>
	<parameter name="tenorOfDraftNarrative" class="java.lang.String"/>
	<parameter name="modeOfPaymentCharges1" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="modeOfPaymentCharges2" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="modeOfPaymentCharges3" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="amountCharges1" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="amountCharges2" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="amountCharges3" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="amountSettlement1" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="amountSettlement2" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="amountSettlement3" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="settlementCurrency" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="totalAmountOfPaymentCharges" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="advisingFee" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="bankCommission" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="bookingCommission" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="bspFee" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="cableFee" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="cancellationFee" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="cilexFee" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="commitmentFee" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="confirmingFee" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="documentaryStamp" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="interestFee" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="notarialFee" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="remittanceFee" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="suppliesFee" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="exportsAdvisingFee" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="otherAdvisingFee" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="totalAmountCharges" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="documentType" class="java.lang.String"/>
	<parameter name="documentClass" class="java.lang.String"/>
	<parameter name="currency" class="java.lang.String"/>
	<parameter name="amount" class="java.lang.String"/>
	<parameter name="lcCurrency" class="java.lang.String"/>
	<parameter name="lcAmount" class="java.lang.String"/>
	<parameter name="documentSubType1" class="java.lang.String"/>
	<parameter name="lcExpiryDate" class="java.lang.String"/>
	<parameter name="usanceTerm" class="java.lang.String"/>
	<parameter name="THIRD-USD_text_special_rate" class="java.lang.String"/>
	<parameter name="USD-PHP_text_special_rate" class="java.lang.String"/>
	<parameter name="USD-PHP_urr" class="java.lang.String"/>
	<parameter name="forexTableRowCount" class="java.lang.String"/>
	<parameter name="urr" class="java.lang.String"/>
	<parameter name="postageFee" class="java.lang.String"/>
	<queryString>
		<![CDATA[select
	ts.amount as lcAmount,
	ts.documentType, ts.documentSubType1,
	ts.documentSubType2, ts.documentClass,
	ts.serviceType, ts.cifname,
	ts.currency,
	tp.currency as tradeproductcurrency,
	tp.amount as tradeproductamount,

	pd.currency as settlementcurrency,

	pd.specialratethirdtophp as specialratethirdtophp,

	pd.specialratethirdtousd as specialratethirdtousd,

	pd.specialrateusdtophp as specialrateusdtophp,
	pd.urr


from tradeservice ts
left join tradeproduct tp on ts.documentnumber=tp.documentnumber
left join payment pay on ts.tradeserviceid=pay.tradeserviceid
left join paymentdetail pd on pay.id=pd.paymentid

where ts.tradeServiceId=$P{tradeServiceId}]]>
	</queryString>
	<field name="LCAMOUNT" class="java.math.BigDecimal"/>
	<field name="DOCUMENTTYPE" class="java.lang.String"/>
	<field name="DOCUMENTSUBTYPE1" class="java.lang.String"/>
	<field name="DOCUMENTSUBTYPE2" class="java.lang.String"/>
	<field name="DOCUMENTCLASS" class="java.lang.String"/>
	<field name="SERVICETYPE" class="java.lang.String"/>
	<field name="CIFNAME" class="java.lang.String"/>
	<field name="CURRENCY" class="java.lang.String"/>
	<field name="TRADEPRODUCTCURRENCY" class="java.lang.String"/>
	<field name="TRADEPRODUCTAMOUNT" class="java.math.BigDecimal"/>
	<field name="SETTLEMENTCURRENCY" class="java.lang.String"/>
	<field name="SPECIALRATETHIRDTOPHP" class="java.math.BigDecimal"/>
	<field name="SPECIALRATETHIRDTOUSD" class="java.math.BigDecimal"/>
	<field name="SPECIALRATEUSDTOPHP" class="java.math.BigDecimal"/>
	<field name="URR" class="java.math.BigDecimal"/>
	<variable name="lcAmount" class="java.lang.String">
		<variableExpression><![CDATA[(new DecimalFormat("#,##0.00").format(new BigDecimal($F{LCAMOUNT} ? $F{LCAMOUNT} : 0)))]]></variableExpression>
		<initialValueExpression><![CDATA[(new DecimalFormat("#,##0.00").format(new BigDecimal($F{LCAMOUNT} ? $F{LCAMOUNT} : 0)))]]></initialValueExpression>
	</variable>
	<variable name="tradeProductCurrency" class="java.lang.String">
		<variableExpression><![CDATA[($F{TRADEPRODUCTCURRENCY}==null ? "" : $F{TRADEPRODUCTCURRENCY})]]></variableExpression>
		<initialValueExpression><![CDATA[($F{TRADEPRODUCTCURRENCY}==null ? "" : $F{TRADEPRODUCTCURRENCY})]]></initialValueExpression>
	</variable>
	<variable name="tradeProductAmount" class="java.lang.String">
		<variableExpression><![CDATA[($F{TRADEPRODUCTAMOUNT}==null ? "" : (new DecimalFormat("#,##0.00").format(new BigDecimal($F{TRADEPRODUCTAMOUNT} ? $F{TRADEPRODUCTAMOUNT} : 0))))]]></variableExpression>
		<initialValueExpression><![CDATA[($F{TRADEPRODUCTAMOUNT}==null ? "" : (new DecimalFormat("#,##0.00").format(new BigDecimal($F{TRADEPRODUCTAMOUNT} ? $F{TRADEPRODUCTAMOUNT} : 0))))]]></initialValueExpression>
	</variable>
	<variable name="outstandingBalance" class="java.lang.String">
		<variableExpression><![CDATA[($P{outstandingBalance}=="undefined") ? "" : $P{outstandingBalance}]]></variableExpression>
		<initialValueExpression><![CDATA[($P{outstandingBalance}=="undefined") ? "" : $P{outstandingBalance}]]></initialValueExpression>
	</variable>
	<variable name="usancePeriod" class="java.lang.String">
		<variableExpression><![CDATA[$P{usancePeriod} + " days " + $P{tenorOfDraftNarrative}]]></variableExpression>
		<initialValueExpression><![CDATA[$P{usancePeriod} + " days " + $P{tenorOfDraftNarrative}]]></initialValueExpression>
	</variable>
	<variable name="thirdToPhpRate" class="java.lang.String">
		<variableExpression><![CDATA[$F{SPECIALRATETHIRDTOPHP}!=null ? (($F{CURRENCY}==null ? $F{TRADEPRODUCTCURRENCY} : $F{CURRENCY}) + " - PHP") : ""]]></variableExpression>
		<initialValueExpression><![CDATA[$F{SPECIALRATETHIRDTOPHP}!=null ? (($F{CURRENCY}==null ? $F{TRADEPRODUCTCURRENCY} : $F{CURRENCY}) + " - PHP") : ""]]></initialValueExpression>
	</variable>
	<variable name="thirdToUsdRate" class="java.lang.String">
		<variableExpression><![CDATA[$F{SPECIALRATETHIRDTOUSD}!=null ? (($F{CURRENCY}==null ? $F{TRADEPRODUCTCURRENCY} : $F{CURRENCY}) + " - USD") : ""]]></variableExpression>
		<initialValueExpression><![CDATA[$F{SPECIALRATETHIRDTOUSD}!=null ? (($F{CURRENCY}==null ? $F{TRADEPRODUCTCURRENCY} : $F{CURRENCY}) + " - USD") : ""]]></initialValueExpression>
	</variable>
	<variable name="tenorLabel" class="java.lang.String">
		<variableExpression><![CDATA[(($P{tenor}=="undefined" || $P{tenor}=="") ? "" : "TENOR<br/>")+
(($P{usancePeriod}=="0" || $P{usancePeriod}=="" || $P{usancePeriod}=="undefined" || $P{usancePeriod}=="0.0") ? "" : "USANCE TENOR (if payment term is usance)")]]></variableExpression>
		<initialValueExpression><![CDATA[(($P{tenor}=="undefined" || $P{tenor}=="") ? "" : "TENOR<br/>")+
(($P{usancePeriod}=="0" || $P{usancePeriod}=="" || $P{usancePeriod}=="undefined" || $P{usancePeriod}=="0.0") ? "" : "USANCE TENOR (if payment term is usance)")]]></initialValueExpression>
	</variable>
	<variable name="tenor" class="java.lang.String">
		<variableExpression><![CDATA[(($P{tenor}=="undefined" || $P{tenor}=="")  ? "" : ($P{tenor}.toUpperCase() + "<br/>"))+
(($P{usancePeriod}=="0" || $P{usancePeriod}=="" || $P{usancePeriod}=="undefined" || $P{usancePeriod}=="0.0") ? "" : ($P{usancePeriod} + " days " + $P{tenorOfDraftNarrative}).toUpperCase())]]></variableExpression>
		<initialValueExpression><![CDATA[(($P{tenor}=="undefined" || $P{tenor}=="")  ? "" : ($P{tenor}.toUpperCase() + "<br/>"))+
(($P{usancePeriod}=="0" || $P{usancePeriod}=="" || $P{usancePeriod}=="undefined" || $P{usancePeriod}=="0.0") ? "" : ($P{usancePeriod} + " days " + $P{tenorOfDraftNarrative}).toUpperCase())]]></initialValueExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="51" splitType="Stretch">
			<staticText>
				<reportElement x="134" y="21" width="300" height="30"/>
				<textElement textAlignment="Center">
					<font fontName="SansSerif" size="9" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[BILLING STATEMENT]]></text>
			</staticText>
			<image>
				<reportElement x="0" y="0" width="50" height="50"/>
				<imageExpression><![CDATA[$P{logo}]]></imageExpression>
			</image>
		</band>
	</title>
	<pageHeader>
		<band height="75" splitType="Stretch">
			<textField evaluationTime="Report" isBlankWhenNull="true">
				<reportElement x="150" y="0" width="390" height="15"/>
				<textElement>
					<font fontName="SansSerif" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{longName}==""
?
($P{importerName}=="" ? "" : $P{importerName}.toUpperCase())
:
($P{longName}.substring(0, 2)=="  " ? $P{longName}.substring(2).toUpperCase() : $P{longName}.toUpperCase())]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="0" width="150" height="15"/>
				<textElement>
					<font fontName="SansSerif" size="10" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[CLIENT NAME]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="150" y="30" width="390" height="15"/>
				<textElement>
					<font fontName="SansSerif" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{documentNumber}.replaceAll("-", "")]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="30" width="150" height="15"/>
				<textElement markup="html">
					<font fontName="SansSerif" size="10" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[TRANSACTION REF NUMBER]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="15" width="150" height="15"/>
				<textElement>
					<font fontName="SansSerif" size="10" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[TYPE OF TRANSACTION]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="45" width="150" height="15"/>
				<textElement>
					<font fontName="SansSerif" size="10" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[LC AMOUNT / CURRENCY]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="150" y="15" width="390" height="15"/>
				<textElement>
					<font fontName="SansSerif" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{documentClass} == "EXPORT_ADVISING"
?
(($F{DOCUMENTSUBTYPE1}=="FIRST_ADVISING" ? "1st LC EXPORT ADVISING - " : "2nd LC EXPORT ADVISING - ") + $F{SERVICETYPE}.replaceAll("_ADVISING", ""))
:

(
    $P{documentClass}=="CORRES_CHARGE"
    ?
    ("SETTLEMENT OF ACTUAL CORRES CHARGE")
    :
    (($F{DOCUMENTTYPE}.equals("FOREIGN") ? "FX " : ($F{DOCUMENTTYPE}.equals("DOMESTIC") ? "DM " : "")) + (($F{DOCUMENTSUBTYPE1}==null || $F{DOCUMENTSUBTYPE1}=="") ? "" : ($F{DOCUMENTSUBTYPE1} + " ")) + $P{documentClass}.replaceAll("_", " ") + " " + $F{SERVICETYPE}.toUpperCase())
)]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="300" y="45" width="125" height="15"/>
				<textElement textAlignment="Right">
					<font fontName="SansSerif" size="10" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression><![CDATA[(($P{forexTableRowCount}!="0")
&& (($F{SPECIALRATETHIRDTOUSD}!=null || $P{THIRD-USD_text_special_rate}!="")
|| ($P{forexTableRowCount}>="3" && $P{USD-PHP_text_special_rate}!="")))
? "Special Rate" : ""]]></textFieldExpression>
			</textField>
			<textField pattern="" isBlankWhenNull="true">
				<reportElement x="150" y="45" width="150" height="15"/>
				<textElement>
					<font fontName="SansSerif" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{documentClass} == "EXPORT_ADVISING"
?
($P{lcCurrency} + " " + new DecimalFormat("#,##0.00").format(new BigDecimal($P{lcAmount})))
:
($P{currency} + " " + $P{amount})]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="0" y="60" width="150" height="15"/>
				<box bottomPadding="15"/>
				<textElement markup="html">
					<font fontName="SansSerif" size="10" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{documentClass} == "EXPORT_ADVISING"
?
((($P{lcExpiryDate}=="undefined") ? "" : "EXPIRY DATE<br/>")+
"TENOR" + ($P{usanceTerm} == "" ? "" : "<br/>USANCE TENOR"))
:
((($P{expiryDate}=="undefined") ? "" : "EXPIRY DATE<br/>")+
($P{priceTerm}=="undefined" ? "" : "PRICE TERM<br/>")+
(($P{documentType}=="DOMESTIC" && $P{documentClass}=="LC" && $P{documentSubType1}=="STANDBY") ? "" : $V{tenorLabel}))]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="150" y="60" width="150" height="15"/>
				<box bottomPadding="15"/>
				<textElement markup="html">
					<font fontName="SansSerif" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{documentClass} == "EXPORT_ADVISING"
?
((($P{lcExpiryDate}=="") ? "" : ($P{lcExpiryDate} + "<br/>"))+
($P{usanceTerm} == "" ? "SIGHT" : ("USANCE<br/>" + $P{usanceTerm}.toUpperCase())))
:
((($P{expiryDate}=="undefined") ? "" : ($P{expiryDate} + "<br/>"))+
($P{priceTerm}=="undefined" ? "" : ($P{priceTerm} + "<br/>"))+
(($P{documentType}=="DOMESTIC" && $P{documentClass}=="LC" && $P{documentSubType1}=="STANDBY") ? "" : $V{tenor}))]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="300" y="60" width="125" height="15"/>
				<box bottomPadding="15"/>
				<textElement textAlignment="Right" markup="html">
					<font fontName="SansSerif" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{documentClass} == "EXPORT_ADVISING"
?
""
:
(
    (($F{SPECIALRATETHIRDTOUSD}!=null || $P{THIRD-USD_text_special_rate}!="") ? (($P{currency} + " - USD") + "<br/>") : "")
    +
    (($P{forexTableRowCount}>="3" && $P{USD-PHP_text_special_rate}!="") ? (($F{DOCUMENTTYPE}=="DOMESTIC" && $F{DOCUMENTCLASS}=="LC") ? "" : "USD - PHP<br/>") : "")
)]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement x="425" y="60" width="115" height="15"/>
				<box leftPadding="5" bottomPadding="15" rightPadding="25"/>
				<textElement textAlignment="Right" markup="html">
					<font fontName="SansSerif" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{documentClass} == "EXPORT_ADVISING"
?
""
:
(
    (($F{SPECIALRATETHIRDTOUSD}!=null || $P{THIRD-USD_text_special_rate}!="") ? (($F{SPECIALRATETHIRDTOUSD}==null ? $P{THIRD-USD_text_special_rate} : $F{SPECIALRATETHIRDTOUSD}.stripTrailingZeros()) + "<br/>") : "")
    +
    (($P{forexTableRowCount}>="3" && $P{USD-PHP_text_special_rate}!="") ? (($F{DOCUMENTTYPE}=="DOMESTIC" && $F{DOCUMENTCLASS}=="LC") ? "" : ($P{USD-PHP_text_special_rate} + "<br/>")) : "")
)]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<summary>
		<band height="355" splitType="Stretch">
			<staticText>
				<reportElement positionType="Float" x="0" y="15" width="150" height="20"/>
				<box>
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="10" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[Mode of Payment]]></text>
			</staticText>
			<staticText>
				<reportElement positionType="Float" x="150" y="15" width="150" height="20"/>
				<box>
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="10" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[Settlement Amount]]></text>
			</staticText>
			<textField>
				<reportElement positionType="Float" x="0" y="0" width="540" height="15"/>
				<box topPadding="0"/>
				<textElement verticalAlignment="Top" markup="none">
					<font fontName="SansSerif" size="10" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression><![CDATA["Payment Details for Charges"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement positionType="Float" x="0" y="80" width="150" height="20"/>
				<textElement verticalAlignment="Middle" markup="none">
					<font fontName="SansSerif" size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Total Amount Due"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement positionType="Float" x="0" y="100" width="150" height="20"/>
				<textElement verticalAlignment="Middle" markup="none">
					<font fontName="SansSerif" size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Settlement Currency"]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement positionType="Float" x="150" y="50" width="150" height="15"/>
				<box leftPadding="3" rightPadding="3">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$P{amountCharges2}=="undefined" ? $P{amountSettlement2} : $P{amountCharges2}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement positionType="Float" x="150" y="35" width="150" height="15"/>
				<box leftPadding="3" rightPadding="3">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$P{amountCharges1}=="undefined" ? $P{amountSettlement1} : $P{amountCharges1}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement positionType="Float" x="0" y="35" width="150" height="15"/>
				<box leftPadding="3" rightPadding="3">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[($P{modeOfPaymentCharges1}.equals("TR Loan") &&
$F{DOCUMENTTYPE}.equals("DOMESTIC")) ? "DTR Loan" : $P{modeOfPaymentCharges1}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement positionType="Float" x="0" y="50" width="150" height="15"/>
				<box leftPadding="3" rightPadding="3">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[($P{modeOfPaymentCharges2}.equals("TR Loan") &&
$F{DOCUMENTTYPE}.equals("DOMESTIC")) ? "DTR Loan" : $P{modeOfPaymentCharges2}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement positionType="Float" x="150" y="80" width="150" height="20"/>
				<box leftPadding="3" rightPadding="3">
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$P{totalAmountOfPaymentCharges}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement positionType="Float" x="150" y="65" width="150" height="15"/>
				<box leftPadding="3" rightPadding="3">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$P{amountCharges3}=="undefined" ? $P{amountSettlement3} : $P{amountCharges3}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement positionType="Float" x="0" y="65" width="150" height="15"/>
				<box leftPadding="3" rightPadding="3">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[($P{modeOfPaymentCharges3}.equals("TR Loan") &&
$F{DOCUMENTTYPE}.equals("DOMESTIC")) ? "DTR Loan" : $P{modeOfPaymentCharges3}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement positionType="Float" x="150" y="100" width="150" height="20"/>
				<box leftPadding="3" rightPadding="3">
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$P{settlementCurrency}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement positionType="Float" x="0" y="140" width="150" height="200"/>
				<box leftPadding="5" rightPadding="5"/>
				<textElement markup="html">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[(($P{advisingFee}=="undefined" || $P{advisingFee}=="0.00" || $P{advisingFee}=="") ? "" : "Corresponding Charges-<br/>Advising Fee<br/>") +
(($P{bankCommission}=="undefined" || $P{bankCommission}=="0.00" || $P{bankCommission}=="") ? "" : "Bank Commission<br/>(Net of 2% tax, if applicable)<br/>") +
(($P{bookingCommission}=="undefined" || $P{bookingCommission}=="0.00" || $P{bookingCommission}=="") ? "" : "Booking Commission<br/>(Net of 2% tax, if applicable)<br/>") +
(($P{bspFee}=="undefined" || $P{bspFee}=="0.00" || $P{bspFee}=="") ? "" : "BSP Commission<br/>(Net of 2% tax, if applicable)<br/>") +
(($P{cableFee}=="undefined" || $P{cableFee}=="0.00" || $P{cableFee}=="") ? "" : "Cable Fee<br/>") +
(($P{cancellationFee}=="undefined" || $P{cancellationFee}=="0.00" || $P{cancellationFee}=="") ? "" : "Cancellation Fee<br/>") +
(($P{cilexFee}=="undefined" || $P{cilexFee}=="0.00" || $P{cilexFee}=="") ? "" : "CILEX<br/>(Net of 2% tax, if applicable)<br/>") +
(($P{commitmentFee}=="undefined" || $P{commitmentFee}=="0.00" || $P{commitmentFee}=="") ? "" : "Commitment Fee<br/>(Net of 2% tax, if applicable)<br/>") +
(($P{confirmingFee}=="undefined" || $P{confirmingFee}=="0.00" || $P{confirmingFee}=="") ? "" : "Confirming Fee<br/>") +
(($P{documentaryStamp}=="undefined" || $P{documentaryStamp}=="0.00" || $P{documentaryStamp}=="") ? "" : "Documentary Stamps<br/>") +
(($P{interestFee}=="undefined" || $P{interestFee}=="0.00" || $P{interestFee}=="") ? "" : "Interest Fee<br/>") +
(($P{notarialFee}=="undefined" || $P{notarialFee}=="0.00" || $P{notarialFee}=="") ? "" : "Notarial Fee<br/>") +
(($P{postageFee}=="undefined" || $P{postageFee}=="0.00" || $P{postageFee}=="") ? "" : "Postage Fee<br/>") +
(($P{remittanceFee}=="undefined" || $P{remittanceFee}=="0.00" || $P{remittanceFee}=="") ? "" : "Remittance Fee<br/>") +
(($P{suppliesFee}=="undefined" || $P{suppliesFee}=="0.00" || $P{suppliesFee}=="") ? "" : "Supplies Fee<br/>") +
(($P{exportsAdvisingFee}=="undefined" || $P{exportsAdvisingFee}=="0.00" || $P{exportsAdvisingFee}=="") ? "" : "Export-FXLC Advising Fee<br/>") +
(($P{otherAdvisingFee}=="undefined" || $P{otherAdvisingFee}=="0.00" || $P{otherAdvisingFee}=="") ? "" : "Other Local Bank Charges<br/>") +
(($P{totalAmountCharges}=="undefined" || $P{totalAmountCharges}=="0.00") ? "" : "<br/>TOTAL CHARGES")]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement positionType="Float" x="150" y="140" width="150" height="200"/>
				<box leftPadding="3" rightPadding="3"/>
				<textElement textAlignment="Right" verticalAlignment="Top" markup="html">
					<font fontName="SansSerif" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[(($P{advisingFee}=="undefined" || $P{advisingFee}=="0.00" || $P{advisingFee}=="") ? "" : ($P{advisingFee} + "<br/><br/>")) +
(($P{bankCommission}=="undefined" || $P{bankCommission}=="0.00" || $P{bankCommission}=="") ? "" : ($P{bankCommission} + "<br/><br/>")) +
(($P{bookingCommission}=="undefined" || $P{bookingCommission}=="0.00" || $P{bookingCommission}=="") ? "" : ($P{bookingCommission} + "<br/><br/>")) +
(($P{bspFee}=="undefined" || $P{bspFee}=="0.00" || $P{bspFee}=="") ? "" : ($P{bspFee} + "<br/><br/>")) +
(($P{cableFee}=="undefined" || $P{cableFee}=="0.00" || $P{cableFee}=="") ? "" : ($P{cableFee} + "<br/>")) +
(($P{cancellationFee}=="undefined" || $P{cancellationFee}=="0.00" || $P{cancellationFee}=="") ? "" : ($P{cancellationFee} + "<br/>")) +
(($P{cilexFee}=="undefined" || $P{cilexFee}=="0.00" || $P{cilexFee}=="") ? "" : ($P{cilexFee} + "<br/><br/>")) +
(($P{commitmentFee}=="undefined" || $P{commitmentFee}=="0.00" || $P{commitmentFee}=="") ? "" : ($P{commitmentFee} + "<br/><br/>")) +
(($P{confirmingFee}=="undefined" || $P{confirmingFee}=="0.00" || $P{confirmingFee}=="") ? "" : ($P{confirmingFee} + "<br/>")) +
(($P{documentaryStamp}=="undefined" || $P{documentaryStamp}=="0.00" || $P{documentaryStamp}=="") ? "" : ($P{documentaryStamp} + "<br/>")) +
(($P{interestFee}=="undefined" || $P{interestFee}=="0.00" || $P{interestFee}=="") ? "" : ($P{interestFee} + "<br/>")) +
(($P{notarialFee}=="undefined" || $P{notarialFee}=="0.00" || $P{notarialFee}=="") ? "" : ($P{notarialFee} + "<br/>")) +
(($P{postageFee}=="undefined" || $P{postageFee}=="0.00" || $P{postageFee}=="") ? "" : ($P{postageFee} + "<br/>")) +
(($P{remittanceFee}=="undefined" || $P{remittanceFee}=="0.00" || $P{remittanceFee}=="") ? "" : ($P{remittanceFee} + "<br/>")) +
(($P{suppliesFee}=="undefined" || $P{suppliesFee}=="0.00" || $P{suppliesFee}=="") ? "" : ($P{suppliesFee} + "<br/>")) +
(($P{exportsAdvisingFee}=="undefined" || $P{exportsAdvisingFee}=="0.00" || $P{exportsAdvisingFee}=="") ? "" : ($P{exportsAdvisingFee} + "<br/>")) +
(($P{otherAdvisingFee}=="undefined" || $P{otherAdvisingFee}=="0.00" || $P{otherAdvisingFee}=="") ? "" : ($P{otherAdvisingFee} + "<br/>")) +
(($P{totalAmountCharges}=="undefined" || $P{totalAmountCharges}=="0.00") ? "" : ("<br/>" + $P{totalAmountCharges}))]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement positionType="Float" x="0" y="120" width="300" height="20"/>
				<textElement verticalAlignment="Middle" markup="none">
					<font fontName="SansSerif" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{documentClass}=="CORRES_CHARGE" ? "" : "CHARGES DETAILS"]]></textFieldExpression>
			</textField>
		</band>
	</summary>
</jasperReport>
